<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate an Auxiliary Model using the Pseudo-Class Method — pseudo_class • tidySEM</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate an Auxiliary Model using the Pseudo-Class Method — pseudo_class"><meta name="description" content="Estimate an auxiliary model based on multiple datasets, randomly drawing
latent class values based on the estimated probability of belonging to each
class. The pseudo class variable is treated as an observed variable within
each dataset, and results are pooled across datasets to account for
classification uncertainty."><meta property="og:description" content="Estimate an auxiliary model based on multiple datasets, randomly drawing
latent class values based on the estimated probability of belonging to each
class. The pseudo class variable is treated as an observed variable within
each dataset, and results are pooled across datasets to account for
classification uncertainty."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidySEM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.9.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Generating_syntax.html">Generating syntax for structural equation models</a></li>
    <li><a class="dropdown-item" href="../articles/lca_confirmatory.html">Confirmatory LPA for the Caregiver Compass</a></li>
    <li><a class="dropdown-item" href="../articles/lca_exploratory.html">Exploratory LPA for Ocean Microplastics</a></li>
    <li><a class="dropdown-item" href="../articles/lca_lcga.html">Latent Class Growth Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/lca_ordinal.html">Latent Class Analysis for Ordinal Indicators</a></li>
    <li><a class="dropdown-item" href="../articles/Plotting_graphs.html">Plotting graphs for structural equation models</a></li>
    <li><a class="dropdown-item" href="../articles/sem_graph.html">SEM graphing conventions</a></li>
    <li><a class="dropdown-item" href="../articles/SMART_LCA_checklist.html">SMART-LCA Checklist</a></li>
    <li><a class="dropdown-item" href="../articles/Tabulating_results.html">Tabulating results from structural equation models</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cjvanlissa/tidySEM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Estimate an Auxiliary Model using the Pseudo-Class Method</h1>
      <small class="dont-index">Source: <a href="https://github.com/cjvanlissa/tidySEM/blob/master/R/mixture-pseudo_class.R" class="external-link"><code>R/mixture-pseudo_class.R</code></a></small>
      <div class="d-none name"><code>pseudo_class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Estimate an auxiliary model based on multiple datasets, randomly drawing
latent class values based on the estimated probability of belonging to each
class. The pseudo class variable is treated as an observed variable within
each dataset, and results are pooled across datasets to account for
classification uncertainty.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pseudo_class</span><span class="op">(</span><span class="va">x</span>, <span class="va">model</span>, df_complete <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'MxModel'</span></span>
<span><span class="fu">pseudo_class</span><span class="op">(</span><span class="va">x</span>, <span class="va">model</span>, df_complete <span class="op">=</span> <span class="cn">NULL</span>, data <span class="op">=</span> <span class="cn">NULL</span>, m <span class="op">=</span> <span class="fl">20</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object for which a method exists, typically either a fitted
<code>mx_mixture</code> model or <code>class_draws</code> object.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Either an expression to execute on every generated dataset,
or a function that performs the analysis on every generated dataset,
or a character that can be interpreted as a structural equation model using
<code><a href="as_ram.html">as_ram</a></code>. This <code>model</code> can explicitly refer to <code>data</code>.</p></dd>


<dt id="arg-df-complete">df_complete<a class="anchor" aria-label="anchor" href="#arg-df-complete"></a></dt>
<dd><p>Integer. Degrees of freedom of the complete-data analysis.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to other functions.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data.frame on which the auxiliary model can be evaluated. Note
that the row order must be identical to that of the data used to fit <code>x</code>,
as these data will be augmented with a pseudo-class draw for that specific
individual.</p></dd>


<dt id="arg-m">m<a class="anchor" aria-label="anchor" href="#arg-m"></a></dt>
<dd><p>Integer. Number of datasets to generate. Default is 20.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code> containing pooled
estimates.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Pseudo-class technique:
Wang C-P, Brown CH, Bandeen-Roche K (2005). Residual Diagnostics for Growth
Mixture Models: Examining the Impact of a Preventive Intervention on
Multiple Trajectories of Aggressive Behavior. Journal of the American
Statistical Association 100(3):1054-1076. <a href="https://doi.org/10.1198/016214505000000501" class="external-link">doi:10.1198/016214505000000501</a></p>
<p>Pooling results across samples:
Van Buuren, S. 2018. Flexible Imputation of Missing Data. Second Edition.
Boca Raton, FL: Chapman &amp; Hall/CRC. <a href="https://doi.org/10.1201/9780429492259" class="external-link">doi:10.1201/9780429492259</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"OpenMx"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">50</span><span class="op">:</span><span class="fl">55</span>, <span class="fl">100</span><span class="op">:</span><span class="fl">105</span><span class="op">)</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SL"</span>, <span class="st">"SW"</span>, <span class="st">"PL"</span>, <span class="st">"PW"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu"><a href="mx_profiles.html">mx_profiles</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat</span>, classes <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pct_mx</span> <span class="op">&lt;-</span> <span class="fu">pseudo_class</span><span class="op">(</span>x <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>                       model <span class="op">=</span> <span class="st">"SL ~ class"</span>,</span></span>
<span class="r-in"><span>                       data <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>                       m <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pct_lm</span> <span class="op">&lt;-</span> <span class="fu">pseudo_class</span><span class="op">(</span>x <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>             model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span> <span class="va">SL</span> <span class="op">~</span> <span class="va">class</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>             data <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>             m <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pcte</span> <span class="op">&lt;-</span> <span class="fu">pseudo_class</span><span class="op">(</span>x <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>                     model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">SL</span> <span class="op">~</span> <span class="va">class</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     data <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>                     m <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pct_func</span> <span class="op">&lt;-</span> <span class="fu">pseudo_class</span><span class="op">(</span>x <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>                         model <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">SL</span> <span class="op">~</span> <span class="va">class</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span><span class="op">}</span>,</span></span>
<span class="r-in"><span>                         data <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>                         m <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running mix3 with 18 parameters</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running mix3 with 18 parameters</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The degrees of freedom are assumed to be equal to the total number of observations used in the model ( 17 ) minus the number of parameters estimated ( 5 ). This may not be correct. If necessary, provide a better value via the 'df_complete' argument</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Caspar J. van Lissa.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

