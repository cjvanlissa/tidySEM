<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>SEM graphing conventions • tidySEM</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="SEM graphing conventions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidySEM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.11</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Generating_syntax.html">Generating syntax for structural equation models</a></li>
    <li><a class="dropdown-item" href="../articles/lca_confirmatory.html">Confirmatory LPA for the Caregiver Compass</a></li>
    <li><a class="dropdown-item" href="../articles/lca_exploratory.html">Exploratory LPA for Ocean Microplastics</a></li>
    <li><a class="dropdown-item" href="../articles/lca_lcga.html">Latent Class Growth Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/lca_ordinal.html">Latent Class Analysis for Ordinal Indicators</a></li>
    <li><a class="dropdown-item" href="../articles/mixed_lca.html">Mixed Data LCA</a></li>
    <li><a class="dropdown-item" href="../articles/Plotting_graphs.html">Plotting graphs for structural equation models</a></li>
    <li><a class="dropdown-item" href="../articles/sem_graph.html">SEM graphing conventions</a></li>
    <li><a class="dropdown-item" href="../articles/SMART_LCA_checklist.html">SMART-LCA Checklist</a></li>
    <li><a class="dropdown-item" href="../articles/Tabulating_results.html">Tabulating results from structural equation models</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cjvanlissa/tidySEM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>SEM graphing conventions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/cjvanlissa/tidySEM/blob/master/vignettes/sem_graph.Rmd" class="external-link"><code>vignettes/sem_graph.Rmd</code></a></small>
      <div class="d-none name"><code>sem_graph.Rmd</code></div>
    </div>

    
    
<p>Structural equation modeling (SEM) uses some conventions to graph
models visually. This vignette provides a brief introduction into the
conventions of this visual language. This will help you understand the
graphs generated by <code>tidySEM</code>, and generate your own SEM
graphs in a way that others will understand.</p>
<p>First, let me introduce the visual elements of SEM graphs.</p>
<div class="section level2">
<h2 id="nodes">Nodes<a class="anchor" aria-label="anchor" href="#nodes"></a>
</h2>
<p>Nodes are the “shapes” in a graph. In SEM graphs, we use nodes to
indicate variables.</p>
<div class="section level4">
<h4 id="observed-variables">Observed variables<a class="anchor" aria-label="anchor" href="#observed-variables"></a>
</h4>
<p>An observed variable is a measured quantity; you have “real data”
about this variable. Usually, you will have a column for this variable
in the spreadsheet with your raw data. Observed variables are also
called measured variables or indicators. Visually, we indicate observed
variables as rectangles:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span><span class="op">(</span>layout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="st">"x"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_fixed</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="var_obs.png" class="r-plt" alt="" width="20%"></p>
</div>
<div class="section level4">
<h4 id="latent-variables">Latent variables<a class="anchor" aria-label="anchor" href="#latent-variables"></a>
</h4>
<p>A latent variable is something that exists (according to your
theory), but that you did not measure directly. There is no column in
the data for this variable. Still, SEM allows us to model such latent
variables. Latent variables are also called “unobserved” variables.
Visually, we indicate them as ovals or circles:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span><span class="op">(</span>nodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"x"</span>, shape <span class="op">=</span> <span class="st">"oval"</span><span class="op">)</span>, layout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="st">"x"</span><span class="op">)</span>, fix_coord <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="var_lat.png" class="r-plt" alt="" width="20%"></p>
</div>
</div>
<div class="section level2">
<h2 id="edges">Edges<a class="anchor" aria-label="anchor" href="#edges"></a>
</h2>
<p>Edges refer to the connections between nodes. In SEM graphs, we use
edges to specify relationships between variables.</p>
<div class="section level4">
<h4 id="regression-effects">Regression effects<a class="anchor" aria-label="anchor" href="#regression-effects"></a>
</h4>
<p>A regression effect indicates that one variable has a causal effect
on another variable. Note that the term “causal” reflects an assumption,
not a conclusion. So if you specify a regression effect between
<code>x</code> and <code>y</code>, you are effectively saying “I assume
that <code>x</code> causes <code>y</code>”. Regression effects are also
called “paths”, “directional effects”, and “factor loadings”. In SEM
graphs, we represent regression effects as single-headed arrows:</p>
<p><img src="arrow.png" class="r-plt" alt="" width="20%"></p>
</div>
<div class="section level4">
<h4 id="covariances">Covariances<a class="anchor" aria-label="anchor" href="#covariances"></a>
</h4>
<p>If (you assume that) two variables are associated, but you have no
causal theory about directional effects between them, then you can
represent this association as a covariance. The term covariance might be
somewhat unfamiliar, but a covariance is just an unstandardized
correlation. Covariances will also be referred to as “correlations”
(when a graph depicts standardized coefficients), “undirected
associations”, or “unexplained associations”. Visually, we indicate
covariances as curved (dashed) lines without arrowheads:</p>
<p><img src="curve.png" class="r-plt" alt="" width="20%"></p>
</div>
<div class="section level4">
<h4 id="residual-variances">(Residual) variances<a class="anchor" aria-label="anchor" href="#residual-variances"></a>
</h4>
<p>Variables often have a variance, and in SEM we can represent this
variance as a double-headed arrow that points from a variable to itself.
However, this is a simplification. When a variable is endogenous (on the
receiving end of one or more causal effects), it gains an additional
latent variable predictor known as an “error term”; a latent variable
with a loading of 1 and a mean of 0. The variance of this error term
represents the “error variance”, also known as “residual variance” or
“unexplained variance”. In <code>tidySEM</code>, all error terms are
omitted, and all variances (including error variances) are displayed as
double-headed arrows. This is a stylistic decision. Error variances are
displayed like this:</p>
<p><img src="error.png" class="r-plt" alt="" width="10%"></p>
</div>
</div>
<div class="section level2">
<h2 id="basic-models">Basic models<a class="anchor" aria-label="anchor" href="#basic-models"></a>
</h2>
<p>Using these basic components, we can specify basic models. There are
two basic models that SEM models are composed of: <em>path models</em>
and <em>measurement models</em>.</p>
<div class="section level4">
<h4 id="path-models">Path models<a class="anchor" aria-label="anchor" href="#path-models"></a>
</h4>
<p>A path model specifies regression effects between two or more
(observed) variables Let’s start with something very simple: Linear
bivariate regression. I’m showing the code, so you can reproduce this
example for yourself. In this model, the variable x predicts the
variable y:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="st">"y ~ x"</span>, <span class="va">df</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span><span class="op">(</span>spacing_x <span class="op">=</span> <span class="fl">2.5</span>, fix_coord <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="mod_reg.png" class="r-plt" alt="" width="50%"></p>
<p>In this graph, we see the observed variables <code>x</code> and
<code>y</code> represented as rectangles. We see the regression effect
represented as a single-headed arrow, and we see the variances
represented as double-headed arrows. Note that the variance on the left
is just the variance of the observed variable, whereas the variance on
the right is actually the residual variance.</p>
</div>
<div class="section level4">
<h4 id="measurement-model">Measurement model<a class="anchor" aria-label="anchor" href="#measurement-model"></a>
</h4>
<p>As mentioned before, a latent variable is something that exists
(according to your theory), but that you did not measure directly. Even
if you did not measure a latent variable directly, SEM allows us define
latent variables in terms of their theoretical effect on observed
variables. In other words, we can specify that a latent variable exists,
and that it causes some of the variance in our observed indicator
variables. A model that defines a latent variable by reference to one or
more observed indicators is known as a “measurement model”, or
alternatively, as a “confirmatory factor analysis” (CFA) model. Here is
an example:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span> , <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"y_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/tidy_sem.html">tidy_sem</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/measurement.html">measurement</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/estimate_lavaan.html">estimate_lavaan</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="mod_meas.png" class="r-plt" alt="" width="50%"></p>
<p>We see that the model defines a latent variable <code>y</code>, with
mean fixed to <code>0</code> and variance fixed to <code>1</code>, which
has a causal effect on the three indicators. The paths from the latent
variable to the indicators are called <em>factor loadings</em>, and they
are interpreted as regression coefficients. Thus: If you go up by one
unit on the latent variable <code>y</code>, then you go up by
<code>.71</code> units on <code>y_1</code>, and by <code>1.78</code>
units on <code>y_2</code>, et cetera.</p>
</div>
</div>
<div class="section level2">
<h2 id="structural-equation-models">Structural equation models<a class="anchor" aria-label="anchor" href="#structural-equation-models"></a>
</h2>
<p>A structural equation model combines the path model and the
measurement model. Thus, a structural equation model is a path model
with some latent variables.</p>
<p>Here is a simple example:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span> , <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y_1"</span>, <span class="st">"x"</span>, <span class="st">"y_2"</span>, <span class="st">"y_3"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/tidy_sem.html">tidy_sem</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/measurement.html">measurement</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_paths.html">add_paths</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span>, <span class="va">x</span> <span class="op">~</span><span class="op">~</span> <span class="va">x</span>, <span class="va">x</span> <span class="op">~</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/estimate_lavaan.html">estimate_lavaan</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="mod_sem1.png" class="r-plt" alt="" width="70%"></p>
<p>Instead of having an observed variable <code>x</code> predicting an
observed variable <code>y</code>, we now have it predicting a latent
variable <code>y</code>. This is one of the simplest possible structural
equation models, but models of arbitrary complexity can be built using
the same elements.</p>
<p>Incidentally, we can define a more pleasing layout for the model
above using the <code><a href="../reference/get_layout.html">get_layout()</a></code> function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tidy_sem.html">tidy_sem</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/measurement.html">measurement</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_paths.html">add_paths</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span>, <span class="va">x</span> <span class="op">~</span><span class="op">~</span> <span class="va">x</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/estimate_lavaan.html">estimate_lavaan</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span><span class="op">(</span>layout <span class="op">=</span></span>
<span>              <span class="fu"><a href="../reference/get_layout.html">get_layout</a></span><span class="op">(</span><span class="st">""</span>,     <span class="st">"x"</span>,    <span class="st">""</span>,</span>
<span>                         <span class="st">""</span>,     <span class="st">"y"</span>,    <span class="st">""</span>,</span>
<span>                         <span class="st">"y_1"</span>, <span class="st">"y_2"</span>, <span class="st">"y_3"</span>, rows <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="mod_sem2.png" class="r-plt" alt="" width="70%"></p>
<p>For more on customizing SEM graphs, see the <a href="https://cjvanlissa.github.io/tidySEM/articles/Plotting_graphs.html">vignette
about making graphs</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Caspar J. van Lissa.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
